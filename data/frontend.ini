[app:main]
use = egg:Konwentor

[server:main]
use = egg:waitress#main
host = 0.0.0.0
port = 6543

# Begin logging configuration
[loggers]
keys = root, konwentor, sentry

[handlers]
keys = all, console, sentry

[formatters]
keys = generic

[logger_root]
level = DEBUG
handlers = all, sentry

[logger_konwentor]
level = DEBUG
handlers = console
qualname = konwentor

[logger_sentry]
level = WARN
handlers = console
qualname = sentry.errors
propagate = 0

[logger_routes]
level = DEBUG
handlers = console
qualname = routes.middleware

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = INFO
formatter = generic

[handler_all]
class = handlers.TimedRotatingFileHandler
args = ('/home/socek/sites/konwentor.socek.org/data/all.log','midnight', 1)
level = DEBUG
formatter = generic

[handler_sentry]
class = raven.handlers.logging.SentryHandler
args = ('http://2d3394e98f2643ab94ac2b3c97b29597:d3cfe1fad78643158bcfe9621ea86529@sentry.socek.org/5',)
level = WARNING
formatter = generic

[formatter_generic]
format = %(asctime)s %(levelname)-5.5s [%(name)s][%(threadName)s] %(message)s

# End logging configuration
[uwsgi]
socket = /tmp/konwentor.uwsgi.socket
master = true

need-app = true
processes = 4
chmod-socket = 777

pythonpath = *.egg
pidfile = /home/socek/sites/konwentor.socek.org/data/uwsgi.pid
logto = /home/socek/sites/konwentor.socek.org/data/uwsgi.log
daemonize2 = /home/socek/sites/konwentor.socek.org/data/uwsgi.daemonize.log

[pshell]
setup = konwentor.application.pshell.setup
